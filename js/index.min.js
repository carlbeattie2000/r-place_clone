!function(){"use strict";var t={selectedColor:"#000",ctx:null,canvas:null,zoomContainer:null,max_span_x:200,max_span_y:200,min_span_x:-200,min_span_y:-200,current_span_x:0,current_span_y:0,span_container:document.getElementById("zoom_container"),canvas:document.getElementById("canvas"),coordinates_display:document.getElementById("coordinates_display"),color_selector_container:document.getElementById("color_selector_container"),color_selector_box:document.getElementById("color_selector_box"),setSelectedColor(t){this.selectedColor=t},setCtx(t){this.ctx=t},setCanvas(t){this.canvas=t},setZoomContainer(t){this.zoomContainer=t},setMaxSpanX(t){this.max_span_x=t},setMaxSpanY(t){this.max_span_y=t},setMinSpanX(t){this.min_span_x=t},setMinSpanY(t){this.min_span_y=t},setCurrentSpanX(t){this.current_span_x=t},setCurrentSpanY(t){this.current_span_y=t},updateSpanContainer(){this.span_container.style.transform=`translate(${this.current_span_x}px, ${this.current_span_y}px)`}},e=["#6d001a","#be0039","#ff4500","#ffa800","#ffd635","#fff8b8","#00a368","#00cc78","#7eed56","#00756f","#009eaa","#00ccc0","#2450a4","#3690ea","#51e9f4","#493ac1","#6a5cff","#94b3ff","#811e9f","#b44ac0","#e4abff","#de107f","#ff3881","#ff99aa","#6d482f","#9c6926","#ffb470","#000000","#515252","#898d90","#d4d7d9","#ffffff"],n=1e3,s=1e3,a={0:.2,1:.6,2:1,3:1.5,4:2,5:3,6:5,7:10,8:15,9:20,10:30,11:40,12:50,13:70,14:100};var o=new class{constructor(t,e,n){this.canvas=t,this.width=e,this.height=n}init(){this.canvas.height=this.height,this.canvas.width=this.width,this.canvas.style.backgroundColor="#fff",t.setCtx(this.canvas.getContext("2d")),t.setCanvas(this.canvas)}}(t.canvas,n,s);var r=new class{constructor(t,e,n){this.canvas=t,this.zoom_container=e,this.zoomLevels=n,this.currentZoomLevel=0,this.maxZoomLevel=function(t){const e=Object.keys(t);return e[e.length-1]}(this.zoomLevels)}init(){this.scrollEvent()}scrollEvent(){this.zoom_container.addEventListener("wheel",(t=>{t.preventDefault(),t.deltaY<0?this.zoom("in"):t.deltaY>0&&this.zoom("out")}))}zoom(t){switch(t){case"in":this.currentZoomLevel=this.currentZoomLevel+1>this.maxZoomLevel?this.maxZoomLevel:this.currentZoomLevel+1;break;case"out":this.currentZoomLevel=this.currentZoomLevel-1<0?0:this.currentZoomLevel-1}this.updateCanvasScale(this.zoomLevels[this.currentZoomLevel]),this.updateMaxMinSpan(),this.updateCurrentSpan()}updateCanvasScale(t){const e=`scale(${t})`;this.canvas.style.transform=e}updateMaxMinSpan(){const e=this.canvas.width*this.zoomLevels[this.currentZoomLevel]/2;t.setMaxSpanX(e),t.setMaxSpanY(e),t.setMinSpanX(-e),t.setMinSpanY(-e)}updateCurrentSpan(){let e=t.current_span_x,n=t.current_span_y;t.setCurrentSpanX(e>t.max_span_x?t.max_span_x:e<t.min_span_x?0:e),t.setCurrentSpanY(n>t.max_span_y?t.max_span_y:n<t.min_span_y?0:n),t.updateSpanContainer()}}(t.canvas,t.span_container,a);const i=new class{constructor(t,e){this.canvas=t,this.coordinates_display=e}init(){this.getCoordinatesOnMouseOverCanvas()}getCursorCoordinates(t){const e=this.canvas.getBoundingClientRect(),n=canvas.width/e.width,s=canvas.height/e.height;return{x:(t.clientX-e.left)*n,y:(t.clientY-e.top)*s}}updateCoordinatesDisplay(t,e){t=Math.floor(t),e=Math.floor(e),this.coordinates_display.querySelector("p").textContent=`(${t}, ${e})`}getCoordinatesOnMouseOverCanvas(){this.canvas.addEventListener("mousemove",(t=>{const{x:e,y:n}=this.getCursorCoordinates(t);this.updateCoordinatesDisplay(e,n)}))}}(t.canvas,t.coordinates_display);i.init();var c=new class{constructor(){}init(){this.keyboardMovement()}keyboardMovement(){document.body.addEventListener("keydown",(e=>{const n=e.key.replace("ArrowUp","up").replace("ArrowRight","right").replace("ArrowDown","down").replace("ArrowLeft","left"),s=t.current_span_x,a=t.current_span_y;switch(n){case"up":t.setCurrentSpanY(a+50>t.max_span_y?t.max_span_y:a+50);break;case"right":t.setCurrentSpanX(s+50>t.max_span_x?t.max_span_x:s+50);break;case"down":t.setCurrentSpanY(a-50<t.min_span_y?t.min_span_y:a-50);break;case"left":t.setCurrentSpanX(s-50<t.min_span_x?t.min_span_x:s-50)}t.updateSpanContainer()}))}};var l=new class{constructor(t,e,n){this.color_selector_container=t,this.color_selector_box=e,this.colors=n,this.toggle_state=!1}init(){this.addButtonEvents(),this.loadColors()}toggleContainer(){if(!this.toggle_state)return this.color_selector_container.style.top="70%",void(this.toggle_state=!0);this.color_selector_container.style.top="110%",this.toggle_state=!1}addButtonEvents(){document.getElementById("open_color_selector").addEventListener("click",(()=>{this.toggleContainer()}));document.getElementById("close_color_selector").addEventListener("click",(()=>{this.toggleContainer()}))}loadColors(){t.setSelectedColor("transparent");for(let n of e){const e=document.createElement("div");e.style.background=n,e.style.height="50px",e.style.width="50px",this.color_selector_box.append(e),e.addEventListener("click",(()=>{t.setSelectedColor(n),this.toggleContainer()}))}}}(t.color_selector_container,t.color_selector_box,e);new class{constructor(t){this.canvas=t}init(){this.drawEvent()}drawEvent(){this.canvas.addEventListener("mousedown",(e=>{const{x:n,y:s}=i.getCursorCoordinates(e);this.drawRect(n,s,t.selectedColor)}))}drawRect(e,n,s){const a=t.ctx;n=Math.floor(n),e=Math.floor(e),a.fillStyle=s,a.fillRect(e,n,1,1)}drawWholeBoard(t){for(let e of t)this.drawRect(e.x,e.y,e.color)}}(t.canvas).init(),o.init(),r.init(),i.init(),c.init(),l.init()}();
